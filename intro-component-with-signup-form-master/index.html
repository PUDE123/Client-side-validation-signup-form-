<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel = "stylesheet" href="style.css">

  <!-- font awesome link -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

   <!-- Sweet Alert -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.all.min.js"></script>
  
  <title>Frontend Mentor | Intro component with sign up form</title>


</head>
<body>

  <section class = "intro-component-signup-form">

    <div class="text-section">
     <h1> Learn to code by watching others</h1>

     <p>See how experienced developers solve problems in real-time. Watching scripted tutorials is great, 
     but understanding how developers think is invaluable. </p>

   </div>


   <div class = "form-section ">
     <p class = "form-top-box"> Try it free 7 days <span>then $20/mo. thereafter</span></p>

     <div class = "form-container">


      <form id="myForm">



        <div class="form-control">
          <input type="text" id="firstname" name="name" placeholder="First Name" class="error-field"> 
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          <i class="fa fa-check-circle" aria-hidden="true"></i>
          <small>First Name cannot be empty</small>
        </div>


        <div class="form-control ">
          <input type="text" id="lastname" name="name" placeholder="Last Name">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          <i class="fa fa-check-circle" aria-hidden="true"></i>
          <small>Last Name cannot be empty</small>
        </div>

        <div class = "form-control">
          <input type="email" id="email" name="email" placeholder="Email Address" >
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          <i class="fa fa-check-circle" aria-hidden="true"></i>
          <small>Looks like this is not an email</small>
        </div>


        <div class="form-control">
          <input type="password" id="password" name="password" placeholder="Password">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          <i class="fa fa-check-circle" aria-hidden="true"></i>
          <small>Password cannot be empty</small>
        </div>
  
        <div class="button">
        <button> CLAIM YOUR FREE TRIAL </button>
      </div>
        <p>By clicking the button, you are agreeing to our <a style="color:hsl(0, 100%, 74%); font-weight: 700;">Terms and Services</a></p>
      </form>



    </div>
  </div>

</section>

<footer>
  <p class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="https://pudesdesignstudio.netlify.app/">Uduak Precious E.</a>
  </p>
</footer>


<!--====JAVASCRIPT =====--->

<script>

  window.addEventListener('load', function() {
    Swal.fire({
      title: 'Welcome',
      text: 'To see client-side validation effect, (1) Try submitting this email without filling in details | (2) Fill in an incorrect email address, e.g pude@, and click submit | (3) Fill in a password less than 8 characters and click submit.',
      icon: 'success'
    });
  });




  const form = document.getElementById('myForm');
  const firstname = document.getElementById('firstname');
  const lastname = document.getElementById('lastname');
  const email = document.getElementById('email');
  const password = document.getElementById('password');

  form.addEventListener('submit', (e) => {
     e.preventDefault();

     checkInputs();
  });

  function checkInputs() {
    //get the values from the inputs
    const firstnameValue = firstname.value.trim();
    const lastnameValue = lastname.value.trim();
    const emailValue = email.value.trim();
    const passwordValue = password.value.trim();

    if(firstnameValue === ''){
      //show error
      //add error class
      setErrorFor(firstname, 'First Name cannot be empty');
    }
    else{
      //add success class
      setSuccessFor(firstname);
    }
    

    if(lastnameValue === ''){
      //show error
      //add error class
      setErrorFor(lastname, 'Last Name cannot be empty');
    }
    else{
      //add success class
      setSuccessFor(lastname);
    }


    if(emailValue === ''){
      //show error
      //add error class
      setErrorFor(email, 'Email cannot be empty');
    }
    else if(!isEmail(emailValue)){
       setErrorFor(email, 'Looks like this is not an email!');
    }
    else{
      setSuccessFor(email);
    }


  if(passwordValue === '') {
    setErrorFor(password, 'Password cannot be empty');
  } 
  else if(passwordValue.length < 8){
    setErrorFor(password, "Password must be at least 8 characters long");
  }
  else {
    setSuccessFor(password);
  }

  // show success message
  }


  function setErrorFor(input, message){
    const formControl = input.parentElement; //.form - control
    const small = formControl.querySelector('small');

    //add error message inside small
    small.innerText = message;

    //add error class
    formControl.className = 'form-control error';

  }

  function setSuccessFor(input){
    const formControl = input.parentElement; //.form - control

    //add success class
    formControl.className = 'form-control success';

  }

  function isEmail(email){
    return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
  }
</script>


</body>
</html>